{% extends "base.html" %}
{% load staticfiles %}
{% load i18n %}
{% load extra_tags %}
{% load url from future %}

{% block content %}
  <div class="alert alert-success" role="alert"></div>
  <div class="alert alert-warning" role="alert"></div>
  {% if post %}
  <div id="post-{{ post.id }}" data-postid="{{ post.id }}" class="post-content featurette">
    <h3><a href="/posts/{{ post.id }}" class="featurette-heading" style="color: #000000">{{ post.title }}</a></h3>
    {{ post.added_at }}
    &nbsp;
    {% if post.post_source_name %}
      <a style="color: #d3d3d3">{{ post.post_source_name }}</a>
    {% endif %}

    </br></br> 
    <pre><span class="inner-pre" style="font-size: 18px">{{ post.content|safe}}</span></pre>
    </br></br>

    {% for tag in post.tags.all %}
      <a href="{% static "/tags/" %}{{tag.name}}"><span class="label label-info">{{tag.name}}</span></a>
    {% endfor %}

    {% if post|is_liked_by:user %}
      <figure class="kudo kudoable complete" data-id="{{ post.id }}">
    {% else %}
      <figure class="kudo kudoable" data-id="{{ post.id }}">
    {% endif %}
        <a class="kudobject">
            <div class="opening">
                <div class="circle">&nbsp;</div>
            </div>
        </a>
        <a href="#kudo" class="count">
            <span class="num">{{ post.like_count }}</span>
        </a>
    </figure>
  </div>

  <a href="/posts/{{ post.id }}/edit/">{% trans "Edit" %}</a>
  <a class="post-delete" data-postid="{{ post.id }}">{% trans "Delete" %}</a>

  <h4 class="comments-header"><a style="color: #000000">{% trans "Comments" %}:</a></h3>
  <ul class="post-comments">
    {% for comment in post.post_comments.all %}
      <li class="post-comment inner-pre" data-commentid="{{ comment.id }}">
        <div>
          <span class="comment-author">{{ comment.author }}</span>
          <span class="comment-like-count" data-commentid="{{ comment.id }}">{{ comment.like_count }}</span><span>{% trans "likes" %}</span>
        </div>
        <div class="comment-content">{{ comment.content }}</div>
        <div>
          {% if comment|is_liked_by:user %}
            <a class="comment-upvote up" data-commentid="{{ comment.id }}" href="#">unlike</a>
          {% else %}
            <a class="comment-upvote" data-commentid="{{ comment.id }}" href="#">like</a>
          {% endif %}
        </div>
      </li>
      {% if not forloop.last %}
        <hr class="featurette-divider comment-divider">
      {% endif %}
    {% endfor %}
    <textarea class="comment-area" id="comment_data" name="comment_data" placeholder="{% trans "Enter comment here" %}..." class="commentarea"></textarea>
  </ul>


  {% else %}
    {% trans "The post doesn't exist or has been deleted." %}
  {% endif %}
{% endblock %}
